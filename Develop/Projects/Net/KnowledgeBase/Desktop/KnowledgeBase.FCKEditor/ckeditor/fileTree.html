<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <title>File Tree</title>
    <link href="treeview/treeview.css" rel="stylesheet" type="text/css" />
    <script src="treeview/json2.js" type="text/javascript"></script>
    <script src="treeview/TreeView_v1.6.js" type="text/javascript"></script>
</head>
<body>
    <div id="divTreeView" style="height: 448px; overflow: auto; width: 200px;">
    </div>
    <input type="button" value="Select" onclick="selectFile();"/>
    <script type="text/javascript">
        var xmltree = new TreeView();
        xmltree.SetContainer('divTreeView');

        function selectFile() {
            if (xmltree.SelectedNode) {
              window.parent.selectFile(xmltree.SelectedNode.GetNavigationURL());
            }
            else {
                alert("Please selectr file");
             }
        }

        function showXML(xml) {
            xmltree.Nodes.Clear();
            TreeView.ParseXML(xml, xmltree);
        }
        var xml = window.parent.opener.filesXML;
        showXML(xml);
        //showXML('<Tree CSSName = "windows7" EditLabel = "false" ShowLines = "false" LineStyle = "default" Visible = "true" PathSeparator = "\" ToggleOnSelect = "false" SelectedValuePath = ""><TreeNode Text="Article Files" Value="Article Files" AllowKeyNavigation = "true" CollapsedImageURL = "treeview/images/folder-closed.png" ExpandedImageURL = "treeview/images/folder.png" IsSelected = "false" IsExpanded = "false" Visible = "true" WordWrap = "true"><TreeNode Text="m_s_1.jpg" Value="m_s_1.jpg" AllowKeyNavigation = "true" NavigationURL = "m_s_1.jpg" Target = "viewer" CollapsedImageURL = "treeview/images/file.png" ExpandedImageURL = "treeview/images/file.png" IsSelected = "false" IsExpanded = "false" WordWrap = "true"/><TreeNode Text="printer-icon.gif" Value="printer-icon.gif" AllowKeyNavigation = "true" NavigationURL = "printer-icon.gif" Target = "viewer" CollapsedImageURL = "treeview/images/file.png" ExpandedImageURL = "treeview/images/file.png" IsSelected = "false" IsExpanded = "false" WordWrap = "true"/></TreeNode><TreeNode Text="User Files" Value="User Files" AllowKeyNavigation = "true" CollapsedImageURL = "treeview/images/folder-closed.png" ExpandedImageURL = "treeview/images/folder.png" IsSelected = "false" IsExpanded = "false" Visible = "true" WordWrap = "true"><TreeNode Text="12.jpg" Value="12.jpg" AllowKeyNavigation = "true" NavigationURL = "12.jpg" Target = "viewer" CollapsedImageURL = "treeview/images/file.png" ExpandedImageURL = "treeview/images/file.png" IsSelected = "false" IsExpanded = "false" WordWrap = "true"/></TreeNode></Tree>');
    </script>
</body>
</html>
